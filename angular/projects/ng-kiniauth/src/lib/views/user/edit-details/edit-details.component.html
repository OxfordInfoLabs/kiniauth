<p class="mb2">
  Update your basic account details here. You will be required to confirm you identity by entering your password
  prior to saving the new details.
</p>

<div class="mb2">
  <label>Change the name for this account.</label>
  <input type="email" placeholder="New name" [(ngModel)]="newName">
</div>

<div class="mb2">
  <label>Change email address for this account.</label>
  <input type="email" placeholder="New email address" [(ngModel)]="newEmailAddress"
    (change)="checkEmail()" email #email="ngModel" maxlength="200">
  @if (!emailAvailable) {
    <span style="color: red">An account already exists with this email address</span>
  }
  @if (email.invalid) {
    <span style="color: red">Not a valid email address</span>
  }
</div>

<div class="mb2">
  <label>Enter current password to confirm changes.</label>
  <input type="password" placeholder="Enter password" [(ngModel)]="currentPassword" maxlength="100">
</div>

<div class="flex align-center justify-between">
  <div></div>
  <button type="button" class="but butsm"
    [disabled]="!emailAvailable || !newEmailAddress || !newName || !currentPassword || email.invalid"
    (click)="saveEmailAddress()">
    Update details
  </button>
</div>


@if (saveError) {
  <p class="mt2 flex align-center error">
    {{saveError}}
  </p>
}
